{"config":{"indexing":"full","lang":["fr"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome Stack_prod : FastAPI stack with Traefik reverse proxy documentation Sources : Deploying FastAPI Apps Over HTTPS with Traefik Proxy An Extremely Simple Docker, Traefik, and Python FastAPI Example Dockerizing FastAPI with Postgres, Uvicorn, and Traefik Tiangolo official fastapi docker image How to install Traefik 2.x on a Docker Swarm Deploying FastAPI (and other) apps with HTTPS powered by Traefik Deploying a FastAPI app with Docker, Traefik, and Let's Encrypt Requirements : To do https with Traefik, you'll need : a Domain Name, check Name.com to buy one, the cheapest one can be around 2 euros for a year, and a VPS, you can but one for example on DigitalOcean , for around 5 euros/month. Connect your domain name to your VPS Now that you have a Domain Name, you have to connect it to your VPS. So first you'lle have to record your Domain Name to your VPS, in my case this is explained here , you'll need to add this domain to your project and create a DNS record . Setting The apex domain (@), and a wildcard (*) to get subdomains will be enough. Now you have done that you need to change the Name Servers on your Domain Name provider side 1 2 3 whois mathieuklimczak.com ping mathieuklimczak.com dig @ns1.digitalocean.com mathieuklimczak.com NS Steps : Docker Install Docker on the VPS Install using the convenience script Docker-compose Install docker-compose on the VPS apt install haveged : add more randomness to the VPS for docker-compose to start. TODO : check this more in detail. On the VPS, make two directories. 1 2 3 4 5 root@ubuntu-s-1vcpu-2gb-ams3-01:~# mkdir code root@ubuntu-s-1vcpu-2gb-ams3-01:~# cd code/ root@ubuntu-s-1vcpu-2gb-ams3-01:~/code# mkdir tuto_traefik root@ubuntu-s-1vcpu-2gb-ams3-01:~/code# cd tuto_traefik/ root@ubuntu-s-1vcpu-2gb-ams3-01:~/code/tuto_traefik# Copy all the files that are in the local project on the vps. rsync -a ./* root@mathieuklimczak.com:/root/code/tuto_traefik/ rsync -a ./* copy everything in this directory rsync -a ./* root@mathieuklimczak.com copy everything in this directory, on this vps rsync -a ./* root@mathieuklimczak.com:/root/code/tuto_traefik/ copy everything in this directory, on this vps, in the following directory . ?Question : is rsync really copy or synchronization ? Once it all has been synced, fire up docker-compose on vps side. Once it has been launched, you can access to the FastAPI doc via http://mathieuklimczak.com/docs . Note that right now it's still classical HTTP protocol, not HTTPS. That's what we are going to do now. Check the docker-compose.traefik.yml file to see the configuration of Traefik, and the docker-compose.yml file to see the configuration of the stack docker-compose.override.yml is used for local development. To check ! Monitoring Backend with Uptime-Kuma Uptime-Kuma Traefik configuration Environement variables needed to be set Traefik Dashboard : USERNAME HASHED_PASSWORD PostgreSQl + FastaPI connection to DB : DB_USERNAME DB_PASSWORD PgAdmin db monitoring : PGADMIN_DEFAULT_EMAIL HASHED_PGADMIN_DEFAULT_EMAIL","title":"Accueil"},{"location":"#welcome-stack_prod-fastapi-stack-with-traefik-reverse-proxy-documentation","text":"","title":"Welcome Stack_prod : FastAPI stack with Traefik reverse proxy documentation"},{"location":"#sources","text":"Deploying FastAPI Apps Over HTTPS with Traefik Proxy An Extremely Simple Docker, Traefik, and Python FastAPI Example Dockerizing FastAPI with Postgres, Uvicorn, and Traefik Tiangolo official fastapi docker image How to install Traefik 2.x on a Docker Swarm Deploying FastAPI (and other) apps with HTTPS powered by Traefik Deploying a FastAPI app with Docker, Traefik, and Let's Encrypt","title":"Sources :"},{"location":"#requirements","text":"To do https with Traefik, you'll need : a Domain Name, check Name.com to buy one, the cheapest one can be around 2 euros for a year, and a VPS, you can but one for example on DigitalOcean , for around 5 euros/month.","title":"Requirements :"},{"location":"#connect-your-domain-name-to-your-vps","text":"Now that you have a Domain Name, you have to connect it to your VPS. So first you'lle have to record your Domain Name to your VPS, in my case this is explained here , you'll need to add this domain to your project and create a DNS record . Setting The apex domain (@), and a wildcard (*) to get subdomains will be enough. Now you have done that you need to change the Name Servers on your Domain Name provider side 1 2 3 whois mathieuklimczak.com ping mathieuklimczak.com dig @ns1.digitalocean.com mathieuklimczak.com NS","title":"Connect your domain name to your VPS"},{"location":"#steps","text":"","title":"Steps :"},{"location":"#docker","text":"Install Docker on the VPS Install using the convenience script","title":"Docker"},{"location":"#docker-compose","text":"Install docker-compose on the VPS apt install haveged : add more randomness to the VPS for docker-compose to start. TODO : check this more in detail. On the VPS, make two directories. 1 2 3 4 5 root@ubuntu-s-1vcpu-2gb-ams3-01:~# mkdir code root@ubuntu-s-1vcpu-2gb-ams3-01:~# cd code/ root@ubuntu-s-1vcpu-2gb-ams3-01:~/code# mkdir tuto_traefik root@ubuntu-s-1vcpu-2gb-ams3-01:~/code# cd tuto_traefik/ root@ubuntu-s-1vcpu-2gb-ams3-01:~/code/tuto_traefik# Copy all the files that are in the local project on the vps. rsync -a ./* root@mathieuklimczak.com:/root/code/tuto_traefik/ rsync -a ./* copy everything in this directory rsync -a ./* root@mathieuklimczak.com copy everything in this directory, on this vps rsync -a ./* root@mathieuklimczak.com:/root/code/tuto_traefik/ copy everything in this directory, on this vps, in the following directory . ?Question : is rsync really copy or synchronization ? Once it all has been synced, fire up docker-compose on vps side. Once it has been launched, you can access to the FastAPI doc via http://mathieuklimczak.com/docs . Note that right now it's still classical HTTP protocol, not HTTPS. That's what we are going to do now. Check the docker-compose.traefik.yml file to see the configuration of Traefik, and the docker-compose.yml file to see the configuration of the stack docker-compose.override.yml is used for local development. To check !","title":"Docker-compose"},{"location":"#monitoring-backend-with-uptime-kuma","text":"Uptime-Kuma Traefik configuration","title":"Monitoring Backend with Uptime-Kuma"},{"location":"#environement-variables-needed-to-be-set","text":"Traefik Dashboard : USERNAME HASHED_PASSWORD PostgreSQl + FastaPI connection to DB : DB_USERNAME DB_PASSWORD PgAdmin db monitoring : PGADMIN_DEFAULT_EMAIL HASHED_PGADMIN_DEFAULT_EMAIL","title":"Environement variables needed to be set"}]}